(function($g$$,$und$$){Base.Version="1.0.0"})((!function(){"undefined"===typeof Base&&(B=Base={})}(),window));
(function($g$$,$und$$){var $kvdb$$=$g$$.indexedDB||$g$$.mozIndexedDB||$g$$.webkitIndexedDB||$g$$.msIndexedDB;Base.Storage=new function IDBStorage(){function $withStore$$($type$$,$f$$){if($db$$)$f$$($db$$.transaction("ForageStorage",$type$$).objectStore("ForageStorage"));else{var $openreq$$=$kvdb$$.open("Base.ForageStorage",1);$openreq$$.onerror=function withStoreOnError(){console.error("不能打开数据库: '"+$openreq$$.error.name+"'")};$openreq$$.onupgradeneeded=function withStoreOnUpgradeNeeded(){$openreq$$.result.createObjectStore("ForageStorage")};
$openreq$$.onsuccess=function withStoreOnSuccess(){$db$$=$openreq$$.result;$f$$($db$$.transaction("ForageStorage",$type$$).objectStore("ForageStorage"))}}}var $db$$=null;return{support:function support(){return!!$kvdb$$},get:function get($key$$,$callback$$){$withStore$$("readonly",function getBody($store$$){var $req$$=$store$$.get($key$$);$req$$.onsuccess=function getOnSuccess(){$callback$$(void 0!==$req$$.result?$req$$.result:null)};$req$$.onerror=function getOnError(){console.error("Error in storage.get(): "+
$req$$.error.name)}})},set:function set($key$$,$value$$,$callback$$){$withStore$$("readwrite",function setBody($store$$){var $req$$=$store$$.put($value$$,$key$$);$callback$$&&($req$$.onsuccess=function setOnSuccess(){$callback$$()});$req$$.onerror=function setOnError(){console.error("写入失败: "+$req$$.error.name)}})},remove:function remove($key$$,$callback$$){$withStore$$("readwrite",function removeBody($store$$){var $req$$=$store$$["delete"]($key$$);$callback$$&&($req$$.onsuccess=function removeOnSuccess(){$callback$$()});
$req$$.onerror=function removeOnError(){console.error("Error in storage.remove(): "+$req$$.error.name)}})},clear:function clear($callback$$){$withStore$$("readwrite",function clearBody($store$$){var $req$$=$store$$.clear();$callback$$&&($req$$.onsuccess=function clearOnSuccess(){$callback$$()});$req$$.onerror=function clearOnError(){console.error("清除失败: "+$req$$.error.name)}})}}}})(window);
(function($g$$,$und$$){function $depend$$($arr$$,$opt$$){var $self$$=this;$self$$.depends=$arr$$;$self$$.index=0;$self$$.opt=$opt$$||$gopt$$;this.next=function $this$next$(){var $dom_p$$=$self$$.opt.progress,$res$$=$self$$.index<$self$$.depends.length?$self$$.depends[$self$$.index++]:$EOF$$;if($res$$!=$EOF$$){$dom_p$$&&$g$$[$dom_p$$]&&$g$$[$dom_p$$]($self$$.index,$self$$.depends.length);"string"===typeof $res$$&&($res$$=[$res$$,$self$$.opt.version]);if(4>$res$$.length){var $dom_p$$=$self$$.opt.original,
$pre$$="html",$len_match$$=/\.js|\.css|.tpl/gi.exec($res$$[0]);$len_match$$&&($pre$$=$len_match$$[0].substring(1));$len_match$$=$res$$.length;1==$len_match$$?$res$$=[$dom_p$$,$res$$[0],$self$$.opt.version,$pre$$]:2==$len_match$$&&($res$$=[$dom_p$$,$res$$[0],$res$$[1],$pre$$]);$res$$.push($self$$.opt.observer)}$res$$.original=$self$$.opt.original}return $res$$};this.loader=function $this$loader$(){var $n$$=this.next();if($n$$!=$EOF$$)$self$$.creator.create($self$$,$n$$);else{var $n$$=$self$$.opt,$e$$;
$n$$.callback&&$n$$.callback();$n$$.success&&eval($n$$.success);$n$$.notify&&($e$$=$global$$.createEvent("CustomEvent"),$e$$.initCustomEvent($n$$.notify,!0,!0,{}),$global$$.dispatchEvent($e$$))}};if($arr$$&&0<$arr$$.length){var $m$$=$self$$.opt.model,$m$$=Base.Storage.support()?"cache"==$m$$||"release"==$m$$||"deploy"==$m$$||$m$$==$und$$:!1;$self$$.creator=$m$$?$cache$$:$dnative$$;$self$$.loader()}}function $create$$($tag$$,$at$$){var $n$$=$global$$.createElement($tag$$);if($at$$)for(var $k$$ in $at$$)$att$$($n$$,
$k$$,$at$$[$k$$]);return $n$$}function $rov$$($ele$$){$ele$$&&"BODY"!=$ele$$.tagName&&$ele$$.parentElement&&$ele$$.parentNode.removeChild($ele$$)}function $toArray$$($s$$){var $a$$=[],$sp$$=$s$$.split(/\n|;|,|\|/g);$s$$&&$sp$$.forEach(function($v$$){($v$$=$v$$.trim())&&!$startsWith$$($v$$,"//")&&!$startsWith$$($v$$,"#")&&$a$$.push($v$$)});return 0<$a$$.length?$a$$:$und$$}function $att$$($dom$$,$k$$,$v$$){if($v$$!=$und$$)$dom$$.setAttribute($k$$,$v$$);else{var $s$$;if(Array.isArray($k$$))for(var $i$$ in $k$$){if($s$$=
$dom$$.getAttribute($k$$[$i$$]),null!=$s$$)break}else $s$$=$dom$$.getAttribute($k$$);$s$$&&$s$$.replace(/(^\s*)|(\s*$)/g,"");return $s$$}}function $burl$$($item$$,$opt$$){var $a$$=$opt$$.assets,$cdn$$=$opt$$.cdncache,$u$$=$item$$[1],$pos$$=$u$$.lastIndexOf("?");return($a$$?$a$$:"")+($u$$+(0<$pos$$?"&":"?"))+($cdn$$===$und$$||!1===$cdn$$?"timestep="+$timestep$$+"&version="+$item$$[2]:"")}function $get$$($url$$,$fn$$){$xhr$$("GET",$url$$,!0,$fn$$)}function $xhr$$($mthod$$,$url$$,$async$$,$fn$$){var $xhr$$=
new XMLHttpRequest;$xhr$$.onload=function $$xhr$$$onload$(){(200<=$xhr$$.status&&300>$xhr$$.status||304===$xhr$$.status)&&$fn$$&&$fn$$($xhr$$.responseText)};$xhr$$.withCredentials=!0;$xhr$$.open($mthod$$||"GET",$url$$,$async$$);$xhr$$.send(null);if(!1===$async$$)return $xhr$$.responseText}function $fragment$$($html$$){var $frag$$,$tmp$$,$doc$$=$global$$;if($html$$)for($tmp$$=$create$$("div"),$frag$$=$doc$$.createDocumentFragment(),$tmp$$.innerHTML=$html$$;$tmp$$.firstChild;)$frag$$.appendChild($tmp$$.firstChild);
return $frag$$}function $stripScripts$$($c$$){for(var $reg$$=RegExp('<script\\s*type="text/javascript"[^>]*>([\\S\\s]*?)\x3c/script\\s*>',"img"),$m$$,$index$$=0,$html$$="",$js$$="";null!=($m$$=$reg$$.exec($c$$));)$html$$+=$c$$.substring($index$$,$m$$.index),$js$$+=$m$$[1]+"\n",$index$$=$m$$.index+$m$$[0].length;0==$index$$?$html$$=$c$$:$index$$<$c$$.length&&($html$$+=$c$$.substring($index$$,$c$$.length));return[$html$$,$js$$]}function $evalScripts$$($dom$$,$code$$,$fn$$){function $proxy$$($e$$){$rov$$($node$$);
$fn$$&&$fn$$()}var $node$$=$create$$("script",{type:"text/javascript",charset:"utf-8"}),$url$$;URL?($url$$=URL.createObjectURL(new Blob([$code$$])),$att$$($node$$,"src",$url$$)):$node$$.text=$code$$;$node$$.addEventListener("load",$proxy$$,!1);$node$$.addEventListener("error",$proxy$$,!1);$head$$.appendChild($node$$)}function $render$$($dom$$,$res$$1_str$$,$inner$$,$fn$$){$res$$1_str$$=$stripScripts$$($res$$1_str$$);if($res$$1_str$$[0]){var $frag$$=$fragment$$($res$$1_str$$[0]),$method$$="BODY"==
$dom$$.tagName?"appendChild":"replaceWith";$include$$($frag$$);$dom$$?($inner$$&&($dom$$.innerHTML="",$method$$="appendChild",!$dom$$.wasObserver&&($dom$$.wasObserver=!0,$observer$$($dom$$,function($arr$$){var $tar$$=[],$ele$$;$arr$$.forEach(function($JSCompiler_inline_result$$0_i$$inline_14_v$$){$ele$$=$JSCompiler_inline_result$$0_i$$inline_14_v$$.target;a:{for($JSCompiler_inline_result$$0_i$$inline_14_v$$=0;$JSCompiler_inline_result$$0_i$$inline_14_v$$<$tar$$.length;$JSCompiler_inline_result$$0_i$$inline_14_v$$++)if($ele$$==
$tar$$[$JSCompiler_inline_result$$0_i$$inline_14_v$$]){$JSCompiler_inline_result$$0_i$$inline_14_v$$=!0;break a}$JSCompiler_inline_result$$0_i$$inline_14_v$$=!1}$JSCompiler_inline_result$$0_i$$inline_14_v$$||($ele$$.wasRequire=0,$tar$$.push($ele$$))});$requireTag$$($tar$$)}))),"replaceWith"==$method$$?$dom$$.parentElement.replaceChild($frag$$,$dom$$):$dom$$[$method$$]($frag$$)):$global$$.body.appendChild($frag$$)}$res$$1_str$$[1]?$evalScripts$$($dom$$,$res$$1_str$$[1],$fn$$):$fn$$&&$fn$$()}function $tpl$$($dom$$,
$html$$,$fn$$,$item$$){var $data$$31_data$$,$obj$$21_url$$=$att$$($dom$$,["bind","bind-remote","data-url","bind-call"]);$obj$$21_url$$&&($data$$31_data$$=$xhr$$("post",$obj$$21_url$$,!1))&&($obj$$21_url$$=JSON.parse($data$$31_data$$),0==$obj$$21_url$$.ec&&($data$$31_data$$=$obj$$21_url$$.obj||$obj$$21_url$$.list,$data$$31_data$$["original-data"]=$obj$$21_url$$));$data$$31_data$$&&($html$$=(new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+$html$$.replace(/[\r\t\n]/g,
" ").split("<#").join("\t").replace(/((^|#>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)#>/g,"',$1,'").split("\t").join("');").split("#>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"))($data$$31_data$$));$render$$($dom$$,$html$$,$item$$[4],$fn$$)}function $hashCode$$($url$$){$url$$=$url$$.replace(/\//g,"");for(var $hash$$=0,$c$$,$i$$=0;$i$$<$url$$.length;$i$$++)if($c$$=$url$$.charCodeAt($i$$),32!=$c$$&&10!=$c$$&&13!=$c$$&&9!=$c$$&&($hash$$=31*$hash$$+$c$$,2147483647<$hash$$||-2147483648>
$hash$$))$hash$$&=4294967295;return"h"+$hash$$.toString(16)}function $startsWith$$($str$$,$prefix$$){return $str$$.slice(0,$prefix$$.length)===$prefix$$}function $observer$$($dom$$,$fn$$){(new $Mutation$$($fn$$)).observe($dom$$,{attributes:!0,attributeFilter:"bind bind-remote data-url bind-call depends require include src href".split(" ")})}function $include$$($dom$$,$fn$$){var $cluster$$=0;[["require,[require]",$head$$],["include,[include]",$und$$]].forEach(function($v$$){var $req$$=$dom$$.querySelectorAll($v$$[0]);
0<$req$$.length&&($cluster$$++,$requireTag$$($req$$,$v$$[1],function(){$cluster$$--;0==$cluster$$&&$fn$$&&$fn$$()}))})}var $de$$=document.documentElement,$global$$=$g$$.document,$forceDev$$=!1,$EOF$$=$und$$,$head$$=$global$$.head||$de$$,$timestep$$=(new Date).getTime(),$Mutation$$=$g$$.MutationObserver||$g$$.WebKitMutationObserver||$g$$.MozMutationObserver,$gopt$$={model:$forceDev$$||$att$$($de$$,"model")||"cache",assets:$att$$($de$$,"assets")||"",version:$att$$($de$$,"version")||0,cdncache:"true"==
$att$$($de$$,"cdncache"),notify:$att$$($de$$,"notify"),success:$att$$($de$$,"onsuccess"),progress:$att$$($de$$,"onprogress")};(function(){var $pars$$=location.search.substring(1);if($pars$$)for(var $reg$$=/([^&=]+)=([^&]*)/g,$m$$;$m$$=$reg$$.exec($pars$$);)if("model"==$m$$[1]){"dev"==$m$$[2]&&($forceDev$$="dev");break}})();var $dnative$$={create:function($self$$,$item$$){this[$item$$[3]]($item$$[0],$burl$$($item$$,$self$$.opt),function(){!$item$$[4]&&$rov$$($item$$[0]);$self$$.loader()},$item$$)},
js:function($dom$$8_node$$,$url$$,$fn$$){$dom$$8_node$$=$create$$("script",{type:"text/javascript",charset:"utf-8",src:$url$$});$fn$$&&($dom$$8_node$$.addEventListener("load",$fn$$,!1),$dom$$8_node$$.addEventListener("error",$fn$$,!1));$head$$.appendChild($dom$$8_node$$)},css:function($dom$$,$url$$,$fn$$){$dom$$=$create$$("link");$dom$$.href=$url$$;$dom$$.rel="stylesheet";$dom$$.type="text/css";$dom$$.addEventListener("load",$fn$$,!1);$head$$.appendChild($dom$$)},html:function($dom$$,$src$$,$fn$$,
$item$$){$get$$($src$$,function($html$$){$render$$($dom$$,$html$$,$item$$[4],$fn$$)})},tpl:function($dom$$,$src$$,$fn$$,$item$$){$get$$($src$$,function($html$$){$tpl$$($dom$$,$html$$,$fn$$,$item$$)})}},$cache$$={create:function($self$$,$item$$){var $f$$=this;$f$$.cached($item$$[1],$burl$$($item$$,$self$$.opt),$item$$[2],function($code$$){$f$$[$item$$[3]]($item$$[0],$code$$,function(){!$item$$[4]&&$rov$$($item$$.original);$self$$.loader()},$item$$)})},cached:function($key$$,$url$$,$ver$$,$fn$$){var $k$$=
$hashCode$$($key$$);Base.Storage.get($k$$,function($res$$){var $hit$$=!1,$pos$$;$res$$&&$startsWith$$($res$$,"${")&&($pos$$=$res$$.indexOf("}"),0<$pos$$&&$ver$$+""==$res$$.substring(2,$pos$$)&&($hit$$=!0));$hit$$?$fn$$($res$$.substring($pos$$+2)):$get$$($url$$,function($code$$){Base.Storage.set($k$$,"${"+$ver$$+'}"'+$code$$,function(){$fn$$($code$$)})})})},js:function($dom$$,$code$$,$fn$$){$evalScripts$$($dom$$,$code$$,$fn$$)},css:function($dom$$13_node$$,$code$$,$fn$$){$dom$$13_node$$=$create$$("style",
{type:"text/css"});$dom$$13_node$$.appendChild($global$$.createTextNode($code$$));$head$$.appendChild($dom$$13_node$$);$fn$$&&$fn$$()},html:function($dom$$,$code$$,$fn$$,$item$$){$render$$($dom$$,$code$$,$item$$[4],$fn$$)},tpl:$tpl$$},$requireTag$$=function $$requireTag$$$($deps$$,$append_i$$,$callback$$){var $dom$$15_opt$$,$trigger_u$$;if(0<$deps$$.length){$append_i$$=0;for(var $l$$=$deps$$.length;$append_i$$<$l$$;$append_i$$++)$dom$$15_opt$$=$deps$$[$append_i$$],($trigger_u$$=$att$$($dom$$15_opt$$,
["trigger"]))?$global$$.addEventListener($trigger_u$$,function($e$$){$e$$='[trigger="'+$e$$.type+'"]';["require"+$e$$+",[require]"+$e$$+"","include"+$e$$+",[include]"+$e$$+""].forEach(function($req$$5_v$$){$req$$5_v$$=$global$$.querySelectorAll($req$$5_v$$);if(0<$req$$5_v$$.length){for(var $arr$$=[],$i$$=0;$i$$<$req$$5_v$$.length;$i$$++)$req$$5_v$$[$i$$].removeAttribute("trigger"),$arr$$.push($req$$5_v$$[$i$$]);$requireTag$$($arr$$)}})},!1):($trigger_u$$=$att$$($dom$$15_opt$$,["depends","require",
"include","src","href"]),!$trigger_u$$&&($trigger_u$$=$dom$$15_opt$$.text||$dom$$15_opt$$.innerHTML),$trigger_u$$&&!$dom$$15_opt$$.wasRequire&&($dom$$15_opt$$.wasRequire=!0,$dom$$15_opt$$={original:$dom$$15_opt$$,observer:$dom$$15_opt$$.hasAttribute("observer"),model:$forceDev$$||$att$$($dom$$15_opt$$,"model")||$gopt$$.model,assets:$att$$($dom$$15_opt$$,"assets")||$gopt$$.assets,version:$att$$($dom$$15_opt$$,"version")||$gopt$$.version,cdncache:$att$$($dom$$15_opt$$,"cdncache")||$gopt$$.cdncache,
notify:$att$$($dom$$15_opt$$,"notify")||$gopt$$.notify,success:$att$$($dom$$15_opt$$,"onsuccess")||$gopt$$.success,progress:$att$$($dom$$15_opt$$,"onprogress")||$gopt$$.progress,callback:$callback$$},$trigger_u$$=$toArray$$($trigger_u$$),0<$trigger_u$$.length&&new $depend$$($trigger_u$$,$dom$$15_opt$$)))}};$requireTag$$($global$$.querySelectorAll("script[depends],script[require]"),$head$$);var $handler$$=function $$handler$$$(){$global$$.removeEventListener("DOMContentLoaded",$handler$$,!1);$include$$($global$$)};
$global$$.addEventListener("DOMContentLoaded",$handler$$,!1);$g$$.Require=Base.Require={bindNotify:function $Base$Require$bindNotify$($subject$$,$fn$$){$global$$.addEventListener($subject$$,$fn$$,!1)},clean:function $Base$Require$clean$(){Base.Storage.support()&&Base.Storage.clear()},require:function require($arr$$,$opt$$){new $depend$$($arr$$,"function"===typeof $opt$$?{callback:$opt$$,model:$gopt$$.model,assets:$gopt$$.assets,version:$gopt$$.version,cdncache:$gopt$$.cdncache,notify:$gopt$$.notify,
success:$gopt$$.success,progress:$gopt$$.progress}:$opt$$)},include:$include$$}})(window);(function($g$$,$und$$){for(var $o$$=function $$o$$$($obj$$){for(var $k$$ in $obj$$)$o$$[$k$$]=$obj$$[$k$$]},$reg$$=/([^&=]+)=([^&]*)/g,$pars$$=location.search.substring(1),$m$$;$m$$=$reg$$.exec($pars$$);)$o$$[decodeURIComponent($m$$[1])]=decodeURIComponent($m$$[2]);$g$$.Options=Base.Options=$o$$})(window);
(function($g$$,$und$$){function $add$$($k$$,$obj$$,$root$$){var $before$$,$require$$,$bind$$,$ele$$;"function"===typeof $obj$$?$before$$=$obj$$:($before$$=$obj$$.before,$require$$=$obj$$.require,$bind$$=$obj$$.bind,$ele$$=$obj$$.ele||$root$$,$ele$$="string"===typeof $ele$$?document.querySelector($ele$$):$ele$$);$obj$$={before:$before$$,ele:$ele$$,require:$require$$,bind:$bind$$};"*"==$k$$?$defaultAction$$=$obj$$:$routes$$[$k$$]=$obj$$}function $fire$$($path$$){var $url$$=($path$$||"*").replace(/.*#/,
""),$found$$=!1,$handler$$;for($path$$ in $routes$$){var $result$$=$getRegExp$$($path$$).exec($url$$);$result$$&&$result$$[0]&&""!=$result$$[0]&&($handler$$=$routes$$[$path$$],$result$$.pop(),$handler$$&&($found$$=!0,$routePath$$($handler$$,$result$$)))}!$found$$&&$defaultAction$$&&$routePath$$($defaultAction$$,$result$$)}function $routePath$$($handler$$,$result$$){var $ele$$=$handler$$.ele;$handler$$.before&&$handler$$.before.apply(null,$result$$&&$result$$.slice(1));$ele$$&&($handler$$.bind&&$ele$$.setAttribute("bind",
$handler$$.bind),$handler$$.require&&$ele$$.setAttribute("require",$handler$$.require))}function $getRegExp$$($route$$){$route$$=$route$$.replace(/[\-{}\[\]+?.,\\\^$|#\s]/g,"\\$&").replace(/\((.*?)\)/g,"(?:$1)?").replace(/(\(\?)?:\w+/g,function($match$$,$optional$$){return $optional$$?$match$$:"([^/?]+)"}).replace(/\*\w+/g,"([^?]*?)");return new RegExp("^"+$route$$+"(?:\\?([\\s\\S]*))?$")}var $routes$$={},$defaultAction$$,$Route$$={init:function($map$$,$root$$){this.rebuild($map$$,$root$$);$fire$$($g$$.location.hash)},
rebuild:function($map$$,$root$$){for(var $k$$ in $map$$)$add$$($k$$,$map$$[$k$$],$root$$)},del:function($k$$){delete $routes$$[$k$$]},go:function($path$$){$path$$&&(location.hash=$path$$)},param:function param(){var $newURL_url$$=$g$$.location.hash,$answer$$=[];if($newURL_url$$){var $newURL_url$$=$newURL_url$$.replace(/.*#/,""),$path$$;for($path$$ in $routes$$){var $result$$=$getRegExp$$($path$$).exec($newURL_url$$);if($result$$&&$result$$[0]){$answer$$=$result$$.slice(1);$answer$$.pop();break}}}return $answer$$},
add:$add$$,trigger:$fire$$};"onhashchange"in $g$$&&$g$$.addEventListener("hashchange",function($onChangeEvent$$){$fire$$($onChangeEvent$$&&$onChangeEvent$$.newURL||$g$$.location.hash)});$g$$.Route=Base.Route=$Route$$})(window);
//# sourceMappingURL=require.js.map