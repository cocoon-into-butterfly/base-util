!function(e,n){function r(e,n,r){var i,t,c,u;"*"==e?n&&(o=n):("function"==typeof n?i=n:(i=n.before,t=n.require,c=n.bind,u=n.ele||r,u="string"==typeof u?document.querySelector(u):u),a[e]={before:i,ele:u,require:t,bind:c})}function i(e){e=e||"*";var n,r=e.replace(/.*#/,""),i=!1;for(var e in a){var c=t(e),u=c.exec(r);u&&u[0]&&""!=u[0]&&(n=a[e],n&&(n.before&&n.before.apply(null,u.slice(1)),n.ele&&(n.bind&&n.ele.setAttribute("bind",n.bind),n.require&&n.ele.setAttribute("require",n.require))),i=!0)}!i&&o&&o()}function t(e){var n=/\((.*?)\)/g,r=/(\(\?)?:\w+/g,i=/\*\w+/g,t=/[\-{}\[\]+?.,\\\^$|#\s]/g;return e=e.replace(t,"\\$&").replace(n,"(?:$1)?").replace(r,function(e,n){return n?e:"([^/?]+)"}).replace(i,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")}var o,a={},c={init:function(n,t){for(var o in n)r(o,n[o],t);i(e.location.hash)},del:function(e){delete a[e]},go:function(e){e&&(location.hash=e)},add:r,trigger:i};"onhashchange"in e&&e.addEventListener("hashchange",function(n){i(n&&n.newURL||e.location.hash)}),e.Route=Base.Route=c}(window);