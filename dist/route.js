!function(e,n){function r(){var n=e.location.hash,r=[];if(n){var i=n.replace(/.*#/,"");for(var t in u){var o=a(t),c=o.exec(i);if(c&&c[0]){r=c.slice(1),r.pop();break}}}return r}function i(e,n,r){var i,t,o,a;"function"==typeof n?i=n:(i=n.before,t=n.require,o=n.bind,a=n.ele||r,a="string"==typeof a?document.querySelector(a):a),n={before:i,ele:a,require:t,bind:o},"*"==e?c=n:u[e]=n}function t(e){e=e||"*";var n,r=e.replace(/.*#/,""),i=!1;for(var e in u){var t=a(e),f=t.exec(r);f&&f[0]&&""!=f[0]&&(n=u[e],f.pop(),n&&(i=!0,o(n,f)))}!i&&c&&o(c,f)}function o(e,n){var r=e.ele;e.before&&e.before.apply(null,n&&n.slice(1)),r&&(e.bind&&r.setAttribute("bind",e.bind),e.require&&r.setAttribute("require",e.require))}function a(e){var n=/\((.*?)\)/g,r=/(\(\?)?:\w+/g,i=/\*\w+/g,t=/[\-{}\[\]+?.,\\\^$|#\s]/g;return e=e.replace(t,"\\$&").replace(n,"(?:$1)?").replace(r,function(e,n){return n?e:"([^/?]+)"}).replace(i,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")}var c,u={},f={init:function(n,r){this.rebuild(n,r),t(e.location.hash)},rebuild:function(e,n){for(var r in e)i(r,e[r],n)},del:function(e){delete u[e]},go:function(e){e&&(location.hash=e)},param:r,add:i,trigger:t};"onhashchange"in e&&e.addEventListener("hashchange",function(n){t(n&&n.newURL||e.location.hash)}),e.Route=Base.Route=f}(window);