!function(e,n){function t(e,t,a,s,r){a=a||{};var o=new XMLHttpRequest,u=function(){var e=o.responseText,n=o.getResponseHeader("Content-type");return(n.indexOf("application/json")>=0||"json"==a.dataType)&&(e=JSON.parse(e)),e};o.open(e||"GET",t,a.async===n||a.async),a.credentials&&(o.withCredentials=!0);for(var c in a.headers||{})o.setRequestHeader(c,a.headers[c]);if(o.onload=function(){var e=o.status>=200&&o.status<300||304===o.status?s:r,n=u();e&&e(n)},o.send(a.data||a.body||void 0),a.async===!1)return u()}var a={};["ajax","get","post"].forEach(function(e){a[e]=function(n){return Is.str(n)&&(n={url:n}),t("ajax"==e?n.method:e,n.url,n,n.success,n.error)}}),a.call=function(e){var n=e.success||function(e){},a=e.error||function(e,n){alert(n)};return e.dataType="json",t(e.method,e.url,e,function(e){0==e.ec?n(e.obj||e.list):a(e.ec,e.es)},a)},e.ajax=a.ajax,Base.Xhr=Base.Ajax=e.Xhr=e.Ajax=a}(window);